<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>
      MERFISHEYES - Interactive Single Molecule MERFISH Visualization for
      Zebrafish Embryo
    </title>
    <meta
      name="title"
      content="MERFISHEYES - Interactive Single Molecule MERFISH Visualization for Zebrafish Embryo"
    />
    <meta
      name="description"
      content="Advanced 3D visualization tool for single-molecule MERFISH data in zebrafish embryos. Explore spatial transcriptomics with subcellular resolution for RNA imaging and gene expression analysis."
    />
    <meta
      name="keywords"
      content="single molecule MERFISH, whole embryo MERFISH, RNA imaging, MERFISHEYES, zebrafish embryo, zebrafish imaging, spatial transcriptomics, spatial transcriptomics zebrafish, subcellular zebrafish, gene visualization, 3D transcriptomics, single-cell RNA visualization"
    />
    <meta name="author" content="Ignatius Jenie, KJ, Bogdan Bintu Lab" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://merfisheyes.com/" />
    <meta
      property="og:title"
      content="MERFISHEYES - Interactive Single Molecule MERFISH Visualization for Zebrafish Embryo"
    />
    <meta
      property="og:description"
      content="Advanced 3D visualization tool for single-molecule MERFISH data in zebrafish embryos. Explore spatial transcriptomics with subcellular resolution for RNA imaging and gene expression analysis."
    />
    <meta property="og:image" content="https://merfisheyes.com/preview.jpg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://merfisheyes.com/" />
    <meta
      property="twitter:title"
      content="MERFISHEYES - Interactive Single Molecule MERFISH Visualization for Zebrafish Embryo"
    />
    <meta
      property="twitter:description"
      content="Advanced 3D visualization tool for single-molecule MERFISH data in zebrafish embryos. Explore spatial transcriptomics with subcellular resolution for RNA imaging and gene expression analysis."
    />
    <meta
      property="twitter:image"
      content="https://merfisheyes.com/preview.jpg"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://merfisheyes.com/" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-dark.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-dark-plugin.min.css"
      rel="stylesheet"
    />

    <!-- Plus Jakarta Sans font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
      rel="stylesheet"
    />

    <!-- Typography system -->
    <link rel="stylesheet" href="typography.css" />

    <!-- Custom styles -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "MERFISHEYES",
        "description": "Advanced 3D visualization tool for single-molecule MERFISH data in zebrafish embryos. Explore spatial transcriptomics with subcellular resolution for RNA imaging and gene expression analysis.",
        "applicationCategory": "Scientific Visualization",
        "operatingSystem": "Web Browser",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "keywords": "single molecule MERFISH, whole embryo MERFISH, RNA imaging, zebrafish embryo, spatial transcriptomics"
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
  </head>
  <body>
    <!-- Fullscreen visualization container -->
    <div id="visualization"></div>

    <!-- Overlay containers -->
    <div id="overlay-container">
      <!-- Navbar -->
      <nav id="navbar" class="glass-dark">
        <div class="navbar-brand font-bold tracking-tight">MERFISHEYES</div>
        <div class="navbar-controls">
          <select id="dataset-variant-select" class="font-medium text-sm">
            <!-- Options will be populated dynamically from config -->
          </select>
        </div>
      </nav>
      <div id="tooltip-container"></div>

      <!-- Active genes list in top right -->
      <div id="active-genes-container" class="glass">
        <div class="active-genes-header text-sm font-medium tracking-wider">
          Active Genes
        </div>
        <div id="active-genes-list" class="active-genes-container">
          <!-- Active genes will be shown here -->
          <div class="empty-message text-sm font-medium">No genes selected</div>
        </div>
      </div>
      <div id="controls">
        <!-- Controls start -->
        <div class="control-circle glass" data-control="gene-selection">
          <!-- <div class="control-icon">ðŸ§¬</div> -->
          <div class="control-label tracking-wider">Genes</div>
          <div class="control-content">
            <h3 class="font-semibold text-lg">Gene Selection</h3>
            <div class="control-item">
              <input
                type="text"
                id="gene-search"
                class="text-sm"
                placeholder="Search genes..."
              />
            </div>
            <div id="gene-selector" class="gene-checkbox-list text-sm">
              <!-- Gene checkboxes will be added here dynamically -->
            </div>
            <div class="control-item">
              <button
                id="clear-genes-btn"
                class="btn btn-outline-danger w-100 text-sm font-medium"
              >
                Clear All Genes
              </button>
            </div>
          </div>
        </div>

        <!-- Active genes control removed and moved to top right -->

        <div class="control-circle glass" data-control="display-options">
          <div class="control-label tracking-wider">Display</div>
          <div class="control-content">
            <h3 class="font-semibold text-lg">Display Options</h3>
            <div class="control-item">
              <label for="show-boundaries-checkbox" class="text-sm">
                <input type="checkbox" id="show-boundaries-checkbox" checked />
                <span class="font-medium">Show Cell Boundaries</span>
              </label>
            </div>
            <div
              class="control-item"
              id="nuclei-controls"
              style="display: none"
            >
              <label for="show-nuclei-checkbox" class="text-sm">
                <input type="checkbox" id="show-nuclei-checkbox" checked />
                <span class="font-medium">Show Cell Nuclei</span>
              </label>
            </div>
            <div class="control-item">
              <label for="point-size-input" class="text-sm font-medium"
                >Point Size: <span id="point-size-value">10.0</span></label
              >
              <input
                type="range"
                class="form-range"
                id="point-size-input"
                min="0.1"
                max="10.0"
                step="0.1"
                value="10.0"
              />
            </div>
            <div class="control-item">
              <label for="boundary-opacity-input" class="text-sm font-medium"
                >Cell Opacity:
                <span id="boundary-opacity-value">0.5</span></label
              >
              <input
                type="range"
                class="form-range"
                id="boundary-opacity-input"
                min="0"
                max="1"
                step="0.05"
                value="0.5"
              />
            </div>
            <div
              class="control-item"
              id="nuclei-opacity-control"
              style="display: none"
            >
              <label for="nuclei-opacity-input" class="text-sm font-medium"
                >Nuclei Opacity:
                <span id="nuclei-opacity-value">0.7</span></label
              >
              <input
                type="range"
                class="form-range"
                id="nuclei-opacity-input"
                min="0"
                max="1"
                step="0.05"
                value="0.7"
              />
            </div>
          </div>
        </div>

        <!-- <div class="control-group">
                <h3>Cell Boundary Options</h3>
                <div class="control-item">
                    <label for="inner-coloring-checkbox">
                        <input type="checkbox" id="inner-coloring-checkbox">
                        Enable Inner Coloring
                    </label>
                </div>
                <div class="control-item">
                    <label for="inner-coloring-opacity-input">Inner Coloring Opacity: <span id="inner-coloring-opacity-value">0.5</span></label>
                    <input type="range" id="inner-coloring-opacity-input" min="0" max="1" step="0.05" value="0.5">
                </div>
            </div> -->

        <!-- Performance section removed -->
        <!-- <div class="stats">
                <p>Points Rendered: <span id="points-rendered-value">0</span></p>
                <p>Boundaries Rendered: <span id="boundaries-rendered-value">0</span></p>
                <p>FPS: <span id="fps-value">0</span></p>
            </div> -->
      </div>
      <!-- Z-Stack Slider Bar -->
      <div id="zstack-bar" class="glass">
        <label for="zstack-slider-bottom" class="form-label"
          ><b>Z-Stack:</b> <span id="zstack-value-bottom">45</span></label
        >
        <input
          type="range"
          class="form-range"
          id="zstack-slider-bottom"
          min="0"
          max="59"
          step="1"
          value="45"
        />
        <span class="layer-range-info" style="display: none"
          >Range: <span id="layer-min">0</span>-<span id="layer-max"
            >59</span
          ></span
        >
      </div>
    </div>

    <!-- Gene Customization Tooltip -->
    <div id="gene-customize-tooltip" class="customize-tooltip glass">
      <div class="customize-tooltip-header">
        <span
          id="customize-gene-name"
          class="font-semibold tracking-tight"
        ></span>
        <span class="close-tooltip">&times;</span>
      </div>
      <div class="customize-tooltip-body">
        <div class="customize-option">
          <label for="gene-color-picker" class="text-sm font-medium"
            >Color:</label
          >
          <input type="color" id="gene-color-picker" />
        </div>
        <div class="customize-option">
          <label for="gene-scale-slider" class="text-sm font-medium"
            >Size: <span id="gene-scale-value">1.0</span>Ã—</label
          >
          <input
            type="range"
            class="form-range"
            id="gene-scale-slider"
            min="0.1"
            max="3"
            step="0.1"
            value="1.0"
          />
        </div>
      </div>
      <div class="customize-tooltip-footer">
        <button id="reset-gene-customization" class="text-sm font-medium">
          Reset
        </button>
      </div>
    </div>

    <a
      href="https://github.com/Bogdan-Bintu-Lab/sm-merfisheyes-wi"
      target="_blank"
      rel="noopener noreferrer"
      id="github-button"
      aria-label="View source on GitHub"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 16 16"
        width="28"
        height="28"
        fill="currentColor"
      >
        <path
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 
          6.53 5.47 7.59.4.07.55-.17.55-.38 
          0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 
          1.08.58 1.23.82.72 1.21 1.87.87 
          2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 
          0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.1 
          0 0 .67-.21 2.2.82.64-.18 
          1.32-.27 2-.27s1.36.09 2 
          .27c1.53-1.04 2.2-.82 2.2-.82.44 
          1.09.16 1.9.08 2.1.51.56.82 
          1.27.82 2.15 0 3.07-1.87 
          3.75-3.65 3.95.29.25.54.73.54 
          1.48 0 1.07-.01 1.93-.01 2.19 
          0 .21.15.46.55.38A8.013 8.013 
          0 0 0 16 8c0-4.42-3.58-8-8-8z"
        />
      </svg>
    </a>

    <style>
      #github-button {
        position: fixed;
        bottom: 16px;
        left: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        color: white;
        transition: background-color 0.2s ease, transform 0.2s ease;
        backdrop-filter: blur(8px);
        text-decoration: none;
        z-index: 1000;
      }
      #github-button:hover {
        background-color: rgba(255, 255, 255, 0.2);
        transform: scale(1.05);
      }
      #github-button svg {
        pointer-events: none;
      }
    </style>

    <!-- Application scripts -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
